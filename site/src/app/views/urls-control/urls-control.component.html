<mat-card-title>Controle de urls</mat-card-title>
<hr>
<mat-card-content>
  <form>
    <mat-form-field apperance="outline">
      <mat-label>Id url</mat-label>
      <input matInput
      type="text"
      [(ngModel)]="filtroBuscarUrls.urlId"
      name="urlId">
    </mat-form-field>
    <mat-form-field apperance="outline">
      <mat-label>Url</mat-label>
      <input matInput
      type="text"
      [(ngModel)]="filtroBuscarUrls.url"
      name="url">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-select [(value)]="buscarFiltro" (selectionChange)="buscarUrls()" def>
        <mat-option value="todos">Todos</mat-option>
        <mat-option value="ativos">Ativos</mat-option>
        <mat-option value="">Inativos</mat-option>
      </mat-select>
    </mat-form-field>
    <button mat-fab type="button" class="busca" (click)="buscarUrls()">
      <mat-icon class="icon-busca">search</mat-icon>
    </button>
    <button mat-fab type="button" class="busca" (click)="abrirModalCriar()">
      <mat-icon class="icon-busca">add</mat-icon>
    </button>
  </form>
  <app-sem-registro [exibir]="!_existemUrls()"></app-sem-registro>
  <div *ngIf="_existemUrls()">
    <table mat-table
      class="mat-elevation-z4"
      [dataSource]="urls"
      multiTemplateDataRows>
      <ng-container matColumnDef="urlId">
        <th mat-header-cell *matHeaderCellDef>Id URL</th>
        <td mat-cell
          class="clickable"
          *matCellDef="let item"
          (click)="abrirModalEditar(item)"> /{{item.urlId}} </td>
      </ng-container>

      <ng-container matColumnDef="urlOriginal">
        <th mat-header-cell *matHeaderCellDef>URL</th>
        <td mat-cell *matCellDef="let item">
          <a class="link" target="_blank" [href]="item.urlOriginal">
            {{item.urlOriginal}}
          </a>
        </td>
      </ng-container>

      <ng-container matColumnDef="ativo">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell class="status" *matCellDef="let item">
            <span class="dot mat-elevation-z4" [ngClass]="item.ativo ? 'ativo' : 'inativo'"></span>
            <span class="texto-status"
              [ngClass]="item.ativo ? 'texto-ativo' : 'texto-inativo'"
              >{{ item.ativo ? "Ativo" : "Inativo" }}</span>
        </td>
      </ng-container>
      <tr mat-row *matRowDef="let row; columns: colunas;"></tr>
      <tr mat-header-row *matHeaderRowDef="colunas"></tr>
    </table>
  </div>
</mat-card-content>
